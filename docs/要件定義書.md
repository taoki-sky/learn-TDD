# TDD体験アプリケーション 要件定義書

## 1. プロジェクト概要

### 1.1 プロジェクト名
**TDD Interactive Learning Simulator**

### 1.2 目的と価値提案
テスト駆動開発（TDD）の**本質的価値**を体験的に理解できる学習プラットフォームの構築

**解決する課題**:
- TDDが「面倒な作業」として誤解されている
- Red-Green-Refactorサイクルの意味が理論的にしか理解されていない
- 従来開発との品質差が実感できない

**提供する価値**:
- 「なぜテストを先に書くのか」の腹落ち体験
- TDDによる品質向上の可視化
- 生成AI時代におけるTDDの重要性の実感

### 1.3 対象ユーザー
- **主要**: プログラミング経験1-3年のエンジニア
- **副次**: TDDに興味があるが実践できていない開発者
- **潜在**: 生成AI時代の開発手法を学びたい学習者

## 2. UI/UX設計

### 2.1 学習体験の設計思想
**「体験駆動学習」**: 説明よりも実際に触って理解する

**情報の段階的開示**:
1. 概念説明 → 2. 実践体験 → 3. 違いの実感 → 4. 価値の理解

### 2.2 メイン画面構成
```
┌─────────────────────────────────────────────┐
│    🎯 TDDを体験して理解しよう                      │
├─────────────────────────────────────────────┤
│  進捗: ●●●○○ (3/5 ステップ完了)                 │
├─────────────────┬───────────────────────────┤
│   📝 TDD開発      │    ⚡ 従来開発               │
│  (あなたの体験)     │   (比較用)                 │
│                │                          │
│  📋 テストコード   │   💻 実装コード              │
│  💻 実装コード    │   🔍 実行結果               │
│  ✅ 実行結果     │   ⚠️ 問題点                │
└─────────────────┴───────────────────────────┘
│  💡 学習ポイント: なぜ失敗するテストから始めるのか？     │
│  📚 解説: TDDは設計ツールでもあります              │
│              [⬅️ 前へ] [次へ ➡️]               │
└─────────────────────────────────────────────┘
```

### 2.3 インタラクション原則
- **触れる**: ボタンを押してテストを実行
- **見る**: コードが段階的に変化する様子を観察
- **比較する**: TDD版と従来版の違いを同時に確認
- **実感する**: 品質差を具体的な例で体験

## 3. 教材事例1: FizzBuzz

### 3.1 FizzBuzzを選んだ理由
**学習効果の最大化**:
- プログラミング初心者でも理解しやすい
- 段階的な要件追加が自然
- エッジケースが豊富でTDDの価値を示しやすい
- 「なぜテストを先に書くのか」が実感できる

### 3.2 学習ステップの詳細設計

#### ステップ1: 基本数値出力
**学習目標**: 「失敗するテストから始める」理由の理解

**体験内容**:
- **Red**: `fizzbuzz(1)` → `"1"` のテスト作成（失敗を確認）
- **学習ポイント**: 「なぜわざと失敗させるのか？」
- **気づき**: 実装前にゴールを明確にする効果

#### ステップ2: 3の倍数でFizz
**学習目標**: 「最小限の実装」の価値理解

**体験内容**:
- **Red**: `fizzbuzz(3)` → `"Fizz"` のテスト（失敗）
- **Green**: `if (n === 3) return "Fizz"` のハードコード
- **学習ポイント**: 「なぜ`n % 3 === 0`と書かないのか？」
- **気づき**: 最小実装が設計の理解を深める

#### ステップ3: 5の倍数でBuzz  
**学習目標**: 段階的拡張の安全性

**体験内容**:
- **Red**: `fizzbuzz(5)` → `"Buzz"` のテスト
- **Green**: 5の条件を追加
- **学習ポイント**: 既存機能が壊れないことの確認
- **気づき**: テストが安全網として機能

#### ステップ4: 15の倍数でFizzBuzz
**学習目標**: エッジケースとリファクタリングの重要性

**体験内容**:
- **Red**: `fizzbuzz(15)` → `"FizzBuzz"` のテスト（最初は失敗）
- **気づき**: 条件の順序が重要（15は3の倍数でもある）
- **Refactor**: モジュロ演算子への変更
- **学習ポイント**: TDDがあるから安心してリファクタリングできる

#### ステップ5: 配列対応とエラーハンドリング
**学習目標**: TDDによる機能拡張の安全性

**体験内容**:
- **Red**: `fizzbuzz([1,2,3])` の配列テスト
- **Green**: 配列処理の実装
- **追加テスト**: 不正入力（文字列、null）のテスト
- **学習ポイント**: テストがあるから新機能追加が怖くない

### 3.3 各ステップでの「気づき」設計
**重要**: 各ステップで学習者が「あ、なるほど！」と実感する瞬間を作る

- **ステップ1**: テストが設計を助けることに気づく
- **ステップ2**: 最小実装の価値に気づく  
- **ステップ3**: 既存機能の安全性に気づく
- **ステップ4**: リファクタリングの安心感に気づく
- **ステップ5**: 機能拡張の容易さに気づく

## 4. 教材事例2: アプリケーション開発

### 4.1 TDD vs 従来開発の比較シナリオ

#### シナリオ: 同じFizzBuzzアプリを2つの方法で開発
**左パネル（TDD）**: ユーザーが体験した段階的開発
**右パネル（従来）**: 一般的な「いきなり完成形を目指す」開発

### 4.2 品質差異の可視化

#### A. 入力検証の差
**TDD版**: 
- 文字列 → "入力は数値である必要があります"
- 負数 → "正の数を入力してください"  
- 0 → "1以上の数を入力してください"

**従来版**:
- 文字列 → NaN
- 負数 → 予期しない動作
- 0 → エラーまたは空白

#### B. コードの保守性
**TDD版**: 各機能が独立したテスト可能な関数
**従来版**: 巨大な if-else 文の塊

#### C. バグ発見のタイミング
**TDD版**: 実装時にテストで即座に発見
**従来版**: ユーザー操作時に初めて発見

### 4.3 インタラクティブ体験
**「同じ入力を両方に試してみよう」**:
- 基本ケース: 1, 3, 5, 15
- エッジケース: 0, -1, "abc", null
- 大きな数: 100, 1000

**結果**: TDD版は全て適切に処理、従来版は問題多発

## 5. アプリケーション仕様

### 5.1 技術スタック（学習体験を最優先）
- **React + TypeScript**: コンポーネント化で段階表示が容易
- **Jest**: TDDの実例として最適
- **Tailwind CSS**: 迅速なプロトタイピング
- **Netlify**: 簡単デプロイでアクセス性向上

### 5.2 核心機能
1. **ステップバイステップ体験**: 5段階のTDDサイクル
2. **リアルタイム比較**: TDD vs 従来の同時表示
3. **インタラクティブテスト**: ユーザーが実際に入力して確認
4. **プログレス管理**: 学習進捗の可視化

### 5.3 学習支援機能
- **理解度チェック**: 各ステップ後のクイズ
- **ヒント機能**: 詰まった時のガイド
- **復習機能**: 重要ポイントの再確認

## 6. 開発計画

### 6.1 Phase 1: 学習コンテンツ設計（3日）
- FizzBuzz教材の詳細設計
- 各ステップの学習ポイント整理
- UI文言・解説文の作成

### 6.2 Phase 2: 基本機能実装（5日）
- React基盤構築
- FizzBuzz機能の実装
- ステップナビゲーション

### 6.3 Phase 3: 比較機能実装（5日）  
- 従来開発版の実装
- 品質差異の可視化
- インタラクティブテスト機能

### 6.4 Phase 4: 学習体験向上（3日）
- 理解度チェック機能
- アニメーション・フィードバック
- Netlifyデプロイ

## 7. 成功指標

### 7.1 学習効果測定
**定量指標**:
- 完了率: 85%以上
- 各ステップ理解度: 平均4.5/5以上
- 「TDDを実践したい」: 80%以上

**定性指標**:
- 「TDDの価値が腹落ちした」
- 「従来開発との違いが明確になった」
- 「生成AI時代になぜTDDが重要かわかった」

### 7.2 体験品質の指標
- 各ステップでの「気づき」発生率
- 比較機能の利用率
- インタラクティブテストの実行回数

## 8. リスクと対策

### 8.1 学習コンテンツのリスク
**リスク**: TDDの価値が伝わらず「面倒な手法」と誤解される
**対策**: 
- 各ステップで明確な価値を体験させる
- 従来開発の問題点を具体的に示す
- 「なぜ」を重視した解説

### 8.2 UXのリスク
**リスク**: 途中で離脱してしまう
**対策**:
- 各ステップを5分以内で完了可能に
- 明確な進捗表示と達成感の提供
- いつでも前のステップに戻れる設計

### 8.3 技術実装のリスク
**リスク**: 複雑になりすぎて学習に集中できない
**対策**:
- 技術的複雑さを隠蔽し、学習体験を最優先
- シンプルで直感的なインターフェース
- 段階的な情報開示

**重要方針**: 技術仕様より学習コンテンツの質を最優先とし、「TDDの本質的価値を体験的に理解させる」ことに集中する。